<!DOCTYPE HTML>
<html><head>
    <style> body { margin: 0px; padding: 0px; } </style>
</head>
<body>
    <canvas id="canvas" width="1500" height="500"></canvas>
    <script>
        var canvas = document.getElementById('canvas');
        var context = canvas.getContext('2d');

        context.beginPath();
        context.rect(0, 0, canvas.width, canvas.height);
        context.fillStyle = '#9b59b6';
        context.fill();

        var nPrints = 64, prints = [];

        for (var p = 0; p < nPrints; p++) {

            var print = {
                x: Math.floor(Math.random() * (canvas.width + 64)) - 32,
                y: Math.floor(Math.random() * (canvas.height + 64)) - 32,
                w: (32 + (Math.floor(Math.random() * 8) * 24)),
                h: (32 + (Math.floor(Math.random() * 8) * 24)),
                r: Math.random() * Math.PI / 8
            };

            context.save();
            context.translate(print.x, print.y);
            context.rotate(print.r);
            context.beginPath();
            context.rect(0, 0, print.w, print.h);
            context.fillStyle = '#8e44ad';
            context.fill();
            context.restore();

            prints.push(print);
        }

        for (p = 0; p < nPrints; p++) {

            print = prints[p];

            context.save();
            context.translate(print.x, print.y);
            context.rotate(print.r);
            context.beginPath();
            context.rect(2, 2, print.w - 4, print.h - 4);
            context.fillStyle = '#9b59b6';
            context.fill();
            context.restore();
        }

        for (p = 0; p < nPrints; p++) {

            print = prints[p];

            context.save();
            context.translate(print.x, print.y);
            context.rotate(print.r);
            context.beginPath();
            context.rect(12, 12, print.w - 24, print.h - 24);
            context.fillStyle = '#8e44ad';
            context.fill();
            context.restore();
        }

        for (p = 0; p < nPrints; p++) {

            print = prints[p];

            context.save();
            context.translate(print.x, print.y);
            context.rotate(print.r);
            context.beginPath();
            context.rect(14, 14, print.w - 28, print.h - 28);
            context.fillStyle = '#9b59b6';
            context.fill();
            context.restore();
        }

        document.body.addEventListener('click', function (e) {
            window.location.assign(canvas.toDataURL());
        }, false);

    </script>
</body></html>
